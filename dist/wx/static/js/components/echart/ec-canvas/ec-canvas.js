var __CML__GLOBAL=require("../../../manifest.js");__CML__GLOBAL.webpackJsonp([3],{69:function(t,e,n){n(70),n(71)},70:function(t,e){},71:function(t,e,n){function a(t){for(var e=0;e<t.touches.length;++e){var n=t.touches[e];n.offsetX=n.x,n.offsetY=n.y}return t}var i=n(72),r=function(t){return t&&t.__esModule?t:{default:t}}(i),c=n(15),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(c),s=void 0;Component({properties:{canvasId:{type:String,value:"ec-canvas"},ec:{type:Object}},data:{},ready:function(){if(!this.data.ec)return void console.warn('组件需绑定 ec 变量，例：<ec-canvas id="mychart-dom-bar" canvas-id="mychart-bar" ec="{{ ec }}"></ec-canvas>');this.data.ec.lazyLoad||this.init()},methods:{init:function(t){var e=this,n=wx.version.version.split(".").map(function(t){return parseInt(t,10)});if(!(n[0]>1||1===n[0]&&n[1]>9||1===n[0]&&9===n[1]&&n[2]>=91))return void console.error("微信基础库版本过低，需大于等于 1.9.91。参见：https://github.com/ecomfe/echarts-for-weixin#%E5%BE%AE%E4%BF%A1%E7%89%88%E6%9C%AC%E8%A6%81%E6%B1%82");s=wx.createCanvasContext(this.data.canvasId,this);var a=new r.default(s,this.data.canvasId);o.setCanvasCreator(function(){return a}),wx.createSelectorQuery().in(this).select(".ec-canvas").boundingClientRect(function(n){"function"==typeof t?e.chart=t(a,n.width,n.height):e.data.ec&&"function"==typeof e.data.ec.onInit?e.chart=e.data.ec.onInit(a,n.width,n.height):e.triggerEvent("init",{canvas:a,width:n.width,height:n.height})}).exec()},canvasToTempFilePath:function(t){var e=this;t.canvasId||(t.canvasId=this.data.canvasId),s.draw(!0,function(){wx.canvasToTempFilePath(t,e)})},touchStart:function(t){if(this.chart&&t.touches.length>0){var e=t.touches[0],n=this.chart.getZr().handler;n.dispatch("mousedown",{zrX:e.x,zrY:e.y}),n.dispatch("mousemove",{zrX:e.x,zrY:e.y}),n.processGesture(a(t),"start")}},touchMove:function(t){if(this.chart&&t.touches.length>0){var e=t.touches[0],n=this.chart.getZr().handler;n.dispatch("mousemove",{zrX:e.x,zrY:e.y}),n.processGesture(a(t),"change")}},touchEnd:function(t){if(this.chart){var e=t.changedTouches?t.changedTouches[0]:{},n=this.chart.getZr().handler;n.dispatch("mouseup",{zrX:e.x,zrY:e.y}),n.dispatch("click",{zrX:e.x,zrY:e.y}),n.processGesture(a(t),"end")}}}})},72:function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),i=function(){function t(e,a){n(this,t),this.ctx=e,this.canvasId=a,this.chart=null,this._initStyle(e),this._initEvent()}return a(t,[{key:"getContext",value:function(t){if("2d"===t)return this.ctx}},{key:"setChart",value:function(t){this.chart=t}},{key:"attachEvent",value:function(){}},{key:"detachEvent",value:function(){}},{key:"_initCanvas",value:function(t,e){t.util.getContext=function(){return e},t.util.$override("measureText",function(t,n){return e.font=n||"12px sans-serif",e.measureText(t)})}},{key:"_initStyle",value:function(t){var e=arguments;["fillStyle","strokeStyle","globalAlpha","textAlign","textBaseAlign","shadow","lineWidth","lineCap","lineJoin","lineDash","miterLimit","fontSize"].forEach(function(e){Object.defineProperty(t,e,{set:function(n){("fillStyle"!==e&&"strokeStyle"!==e||"none"!==n&&null!==n)&&t["set"+e.charAt(0).toUpperCase()+e.slice(1)](n)}})}),t.createRadialGradient=function(){return t.createCircularGradient(e)}}},{key:"_initEvent",value:function(){var t=this;this.event={},[{wxName:"touchStart",ecName:"mousedown"},{wxName:"touchMove",ecName:"mousemove"},{wxName:"touchEnd",ecName:"mouseup"},{wxName:"touchEnd",ecName:"click"}].forEach(function(e){t.event[e.wxName]=function(n){var a=n.touches[0];t.chart.getZr().handler.dispatch(e.ecName,{zrX:"tap"===e.wxName?a.clientX:a.x,zrY:"tap"===e.wxName?a.clientY:a.y})}})}}]),t}();e.default=i}},[69]);